// Config
datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

// Tables
model Company {
    id          String        @id @default(cuid())
    name        String
    logo        Bytes?
    companyUser CompanyUser[]
}

model User {
    id            String        @id @default(cuid())
    firstName     String
    lastName      String
    email         String        @unique
    password      String
    /// First letter of the father's first name
    fatherInitial String        @db.Char(1)
    companyUser   CompanyUser[]
}

model CompanyUser {
    id        String          @id @default(cuid())
    company   Company         @relation(fields: [companyId], references: [id])
    companyId String
    user      User            @relation(fields: [userId], references: [id])
    userId    String
    role      CompanyUserRole

    @@unique([companyId, userId])
}

enum CompanyUserRole {
    ADMIN
    TEACHER
    STUDENT
}
